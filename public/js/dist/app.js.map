{"version":3,"file":"app.js","sources":["../src/App.js","../src/views/item/activity.js","../src/views/item/login.js","../src/views/item/map.js","../src/views/item/start.js","../src/views/collection/activities.js","../src/models/activity.js","../src/models/location.js","../src/models/user.js","../src/collections/activities.js","../src/collections/locations.js","../src/controllers/main.js","../src/routers/default.js"],"names":["Application","Marionette","addRegions","mainRegion","View","Layout","Composite","Collection","Item","Router","Model","Controller","addInitializer","Parse","initialize","FacebookUtils","init","appId","channelUrl","cookie","xfbml","router","Default","Backbone","history","start","$","window","load","Activity","ItemView","extend","className","Login","template","JST","login","events","click .login","event","preventDefault","logIn","success","location","hash","error","alert","Map","map","this","options","listenTo","renderUser","collection","renderActivities","on","renderMap","undefined","length","markers","forEach","activity","get","latLng","google","maps","LatLng","latitude","longitude","marker","Marker","position","title","push","setPosition","setCenter","styles","elementType","stylers","saturation","featureType","color","visibility","mapOptions","zoom","center","disableDefaultUI","$el","find","Start","Activities","CollectionView","childView","Object","Location","defaults","watchInterval","fetch","onSuccess","coords","data","set","deferred","resolve","onError","reject","jQuery","Deferred","promise","done","fail","complete","always","navigator","geolocation","getCurrentPosition","_","bind","watch","interval","setInterval","unwatch","clearInterval","User","model","Locations","distanceUpdate","userLatLng","locationLatitude","locationLongitude","locationLatLng","distance","geometry","spherical","computeDistanceBetween","trigger","closest","threshold","filter","Main","index","current","navigate","loginView","show","startView","query","Query","include","mapView","timeline","then","activitiesView","AppRouter","onDistanceUpdate","locations","closestLocation","onClosestLocation","user","save","onActivitySave","console","log","userLocation","processAppRoutes"],"mappings":"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"}