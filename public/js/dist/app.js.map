{"version":3,"file":"app.js","sources":["../src/app.js","../src/App.js","../src/views/item/activity.js","../src/views/item/login.js","../src/views/item/map.js","../src/views/item/start.js","../src/views/collection/activities.js","../src/models/activity.js","../src/models/location.js","../src/models/user.js","../src/collections/activities.js","../src/collections/locations.js","../src/controllers/main.js","../src/routers/default.js"],"names":["Application","Marionette","addRegions","mainRegion","View","Layout","Composite","Collection","Item","Router","Model","Controller","addInitializer","Parse","initialize","FacebookUtils","init","appId","channelUrl","cookie","xfbml","router","Default","Backbone","history","start","$","window","load","Activity","ItemView","extend","className","Login","template","JST","login","events","click .login","event","preventDefault","logIn","success","location","hash","error","console","log","Map","map","this","options","listenTo","renderUser","collection","renderActivities","on","renderMap","undefined","length","markers","forEach","activity","get","latLng","google","maps","LatLng","latitude","longitude","marker","Marker","position","title","push","setPosition","setCenter","styles","elementType","stylers","saturation","featureType","color","visibility","mapOptions","zoom","center","disableDefaultUI","$el","find","Start","click #start","Activities","CollectionView","childView","Object","Location","defaults","watchInterval","fetch","onSuccess","coords","data","set","deferred","resolve","onError","reject","jQuery","Deferred","promise","done","fail","complete","always","navigator","geolocation","getCurrentPosition","_","bind","watch","interval","setInterval","unwatch","clearInterval","User","model","Locations","distanceUpdate","userLatLng","locationLatitude","locationLongitude","locationLatLng","distance","geometry","spherical","computeDistanceBetween","trigger","closest","threshold","filter","Main","index","current","navigate","loginView","show","startView","query","Query","include","mapView","timeline","then","activitiesView","alert","AppRouter","onDistanceUpdate","locations","closestLocation","onClosestLocation","user","save","onActivitySave","userLocation","processAppRoutes"],"mappings":"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"}