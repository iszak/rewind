{"version":3,"file":"app.js","sources":["../src/App.js","../src/views/item/activity.js","../src/views/item/login.js","../src/views/item/map.js","../src/views/item/start.js","../src/views/collection/activities.js","../src/models/activity.js","../src/models/location.js","../src/models/user.js","../src/collections/activities.js","../src/collections/locations.js","../src/controllers/main.js","../src/routers/default.js"],"names":["Application","Marionette","addRegions","mainRegion","View","Layout","Composite","Collection","Item","Router","Model","Controller","addInitializer","Parse","initialize","FacebookUtils","init","appId","channelUrl","cookie","xfbml","router","Default","Backbone","history","start","$","window","load","Activity","ItemView","extend","className","Login","template","JST","login","events","click .login","event","preventDefault","logIn","success","location","hash","error","alert","Map","map","this","on","renderMap","updateMap","options","get","latLng","google","maps","LatLng","marker","Marker","position","title","setCenter","styles","elementType","stylers","saturation","featureType","color","visibility","mapOptions","zoom","center","disableDefaultUI","$el","find","onShow","fetch","done","_","bind","Start","Activities","CollectionView","childView","Object","Location","defaults","latitude","longitude","watchInterval","onSuccess","coords","data","set","deferred","resolve","onError","reject","jQuery","Deferred","promise","fail","complete","always","navigator","geolocation","getCurrentPosition","watch","interval","setInterval","unwatch","clearInterval","User","model","Locations","distanceUpdate","userLatLng","forEach","locationLatitude","locationLongitude","locationLatLng","distance","geometry","spherical","computeDistanceBetween","trigger","closest","threshold","filter","length","Main","index","current","navigate","loginView","show","startView","collection","query","Query","then","mapView","timeline","activitiesView","AppRouter","onDistanceUpdate","locations","closestLocation","onClosestLocation","activity","user","save","onActivitySave","console","log","userLocation","listenTo","processAppRoutes"],"mappings":"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"}